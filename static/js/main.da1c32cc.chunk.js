(this.webpackJsonphello_vk=this.webpackJsonphello_vk||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(1),o=a.n(c);a(14);var s=function(e){var t="https://oauth.vk.com/authorize?client_id=7222681&display=page&redirect_uri=".concat("https://altufjevfrol.github.io/HelloVK","&scope=friends&response_type=token&v=5.52&revoke=1&");return r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"logo"},r.a.createElement("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 283.5 283.5"},r.a.createElement("path",{className:"st0",d:"M120,70.9h43.5c39.7,0,49.1,9.4,49.1,49.1v43.5c0,39.7-9.4,49.1-49.1,49.1H120c-39.7,0-49.1-9.4-49.1-49.1V120\r C70.9,80.3,80.3,70.9,120,70.9"}),r.a.createElement("path",{className:"st1",d:"M186.9,119.7c0.7-2.2,0-3.8-3.1-3.8h-10.3c-2.6,0-3.8,1.4-4.5,2.9c0,0-5.3,12.8-12.7,21.1\r c-2.4,2.4-3.5,3.2-4.8,3.2c-0.7,0-1.6-0.8-1.6-3v-20.5c0-2.6-0.8-3.8-3-3.8h-16.2c-1.6,0-2.6,1.2-2.6,2.4c0,2.5,3.7,3.1,4.1,10.1\r v15.2c0,3.3-0.6,3.9-1.9,3.9c-3.5,0-12-12.9-17.1-27.6c-1-2.9-2-4-4.6-4H98.2c-3,0-3.5,1.4-3.5,2.9c0,2.7,3.5,16.3,16.3,34.3\r c8.5,12.3,20.6,18.9,31.5,18.9c6.6,0,7.4-1.5,7.4-4v-9.3c0-3,0.6-3.5,2.7-3.5c1.5,0,4.2,0.8,10.3,6.7c7,7,8.2,10.2,12.1,10.2h10.3\r c3,0,4.4-1.5,3.6-4.4c-0.9-2.9-4.3-7.1-8.7-12.1c-2.4-2.8-6-5.9-7.1-7.4c-1.5-2-1.1-2.8,0-4.6C173,143.5,185.6,125.7,186.9,119.7"}))),r.a.createElement("a",{href:t},r.a.createElement("div",{className:"button"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))};var l=function(e){var t=e.userData.user.first_name,a=e.userData.user.last_name,n=e.userData.user.photo_200_orig,c=e.userData.friends.map((function(e){return{first_name:e.first_name,last_name:e.last_name,userPic:e.photo_50,id:e.id}})).map((function(e){return r.a.createElement("li",{key:e.id,className:"friend"},r.a.createElement("figure",{className:"avatar"}," ",r.a.createElement("img",{src:e.userPic,alt:e.first_name})," "),r.a.createElement("div",{className:"name"},r.a.createElement("span",{className:"first_name"},e.first_name),r.a.createElement("span",{className:"last_name"},e.last_name)))}));return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"user"},r.a.createElement("figure",{className:"avatar"}," ",r.a.createElement("img",{src:n,alt:t})," "),r.a.createElement("div",{className:"name"},r.a.createElement("span",{className:"first_name"},t),r.a.createElement("span",{className:"last_name"},a))),r.a.createElement("ul",{className:"list"},c))},i=a(4),m=a(5),u=a(7),d=a(6),h=a(2),v=a(8),p=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={timer:5},a.clock=a.clock.bind(Object(h.a)(a)),a}return Object(v.a)(t,e),Object(m.a)(t,[{key:"clock",value:function(){this.state.timer>0&&this.setState({timer:this.state.timer-1})}},{key:"componentDidMount",value:function(){this.timerID=setInterval(this.clock,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e="https://oauth.vk.com/authorize?client_id=7222681&display=page&redirect_uri=".concat("https://altufjevfrol.github.io/HelloVK","&scope=friends&response_type=token&v=5.52&revoke=1&");return r.a.createElement("div",{className:"error_msg"},r.a.createElement("div",null,"\u0421\u0435\u0440\u0432\u0435\u0440 VK \u043e\u0442\u0432\u0435\u0442\u0438\u043b \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439!"),r.a.createElement("div",null,r.a.createElement("code",null," error code: ",this.props.msg.error_code),r.a.createElement("br",null),r.a.createElement("code",null,"error msg: ",this.props.msg.error_msg)),r.a.createElement("div",null,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 ",r.a.createElement("b",null,this.state.timer)," ",r.a.createElement("br",null),"\u0418\u043b\u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 ",r.a.createElement("a",{href:e},"\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f")," \u0435\u0449\u0435 \u0440\u0430\u0437."))}}]),t}(r.a.Component);var f=function(e){return e.userData?e.userData.friends?r.a.createElement(l,{userData:e.userData}):e.userData.error?r.a.createElement(p,{msg:e.userData.error}):void 0:r.a.createElement(s,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E={};window.setUser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;e.response?(t.user=e.response[0],E.friends&&o.a.render(r.a.createElement(f,{userData:E}),document.getElementById("root"))):e.error&&(setTimeout((function(){window.location.reload()}),5e3),o.a.render(r.a.createElement(f,{userData:e}),document.getElementById("root")))},window.setFriends=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;function a(e){var t=e.filter((function(e){return!e.deactivated}));return t.length=5,t}e.response?(t.friends=a(e.response.items),E.user&&o.a.render(r.a.createElement(f,{userData:E}),document.getElementById("root"))):e.error&&(setTimeout((function(){window.location.reload()}),5e3),o.a.render(r.a.createElement(f,{userData:e}),document.getElementById("root")))},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){var e,t;function a(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function n(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var r in a){n+="; "+r;var c=a[r];!0!==c&&(n+="="+c)}document.cookie=n}return document.location.hash?(e=document.location.hash.slice(document.location.hash.indexOf("=")+1,document.location.hash.indexOf("&")),t=document.location.hash.slice(document.location.hash.indexOf("_id=")+4),n("token",e,{path:"/","max-age":604800}),n("userID",t,{path:"/","max-age":604800})):document.cookie.includes("token")&&(e=a("token"),t=a("userID")),e&&t?{token:e,userID:t}:null}();e?(function(){var t=document.createElement("SCRIPT");t.src="https://api.vk.com/method/users.get?v=5.52&fields=photo_200_orig&access_token=".concat(e.token,"&callback=setUser"),document.getElementsByTagName("head")[0].appendChild(t)}(),function(){var t=document.createElement("SCRIPT");t.src="https://api.vk.com/method/friends.get?v=5.52&order=random&fields=photo_50&access_token=".concat(e.token,"&callback=setFriends"),document.getElementsByTagName("head")[0].appendChild(t)}()):o.a.render(r.a.createElement(f,{userData:null}),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.da1c32cc.chunk.js.map